---
mode: 'agent'
tools: ['codebase']
description: 'Refactor code while maintaining functionality'
---

# Code Refactoring

Refactor the specified code to improve quality while preserving functionality:

1. **Analyze**: Understand the current implementation and its purpose
2. **Identify**: Find areas for improvement (structure, performance, readability)
3. **Plan**: Design the refactored structure following project patterns
4. **Refactor**: Implement improvements systematically
5. **Validate**: Ensure all existing functionality is preserved
6. **Test**: Run tests to verify no regressions

Focus on:
- Following established patterns in ${workspaceFolder}
- Improving code organization and readability
- Reducing duplication and complexity
- Maintaining or improving performance
- Preserving all existing behavior

Complete the refactoring entirely - don't leave partial changes.
